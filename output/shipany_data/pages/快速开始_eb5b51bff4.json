{
  "url": "https://shipany.ai/zh/docs/quick-start",
  "title": "快速开始",
  "content": "在开始使用 ShipAny 之前，请确保你已经 获取 ShipAny 并已获得 ShipAny Two 代码仓库访问权限。 并且确保你已经完成了 前置要求。\n\n默认拉取的是 dev 分支的代码，基于 Next.js 16，可部署在 Vercel，或通过 VPS + Dokploy 部署。\n\ndev 分支是开发分支，更新迭代快，包含最新的功能特性。如果你追求版本稳定性，可以选择拉取 main 分支的代码。\n\n如果你需要部署在 Cloudflare Workers，请拉取 cf 分支的代码，此分支基于 Next.js 15.5.5，暂不支持 Next.js 16。\n\n拉取完代码之后，进入项目根目录，后续的命令行操作都在项目根目录下执行。\n\n点击输出的 Local 地址，在浏览器打开网页：http://localhost:3000，即可预览项目。\n\n启动的开发服务器默认监听 3000 端口，如果你希望使用其他端口，可以在启动开发服务器时指定端口。\n\n新的项目预览地址就是：http://localhost:8080。\n\n打开项目预览地址，首次看到的页面是这样的：\n\n如果你想通过 AI 快速完成项目初始化，可以参考 使用 Agent Skills 初始化项目。\n\n通过下面的命令，复制一份配置文件，用于配置本地开发用到的环境变量。\n\n根据你的项目信息，自行修改配置文件中的内容。\n\nNEXT_PUBLIC_THEME：项目主题。默认是 default，对应的主题文件夹是： src/themes/default。如果你有自定义主题的需求，可以修改此选项。\n\nNEXT_PUBLIC_APPEARANCE：项目外观。默认是 system，会根据用户电脑设置的系统主题自动切换。你可以改成 light 或 dark，来控制项目默认显示的外观。\n\nDATABASE_URL：数据库连接地址。如果你需要用户登录、管理后台等功能，需要配置此项。\n\nDATABASE_PROVIDER：数据库提供商。目前仅支持 postgresql。支持 Supabase, Neon 等云数据库和自建的 PostgreSQL 数据库。\n\nDB_SINGLETON_ENABLED：数据库单例模式。默认是 true，会复用数据库连接。如果部署在 Cloudflare Workers 等 Serverless 平台，需要改为 false。\n\nDB_MAX_CONNECTIONS：数据库连接池最大连接数。默认是 1，你可适当调大此值，提升数据库并发能力。\n\nAUTH_SECRET：鉴权密钥。如果要开启用户登录功能，需要配置此项。\n\n如果你的项目需要用户登录、管理后台等功能，必须按照以下步骤配置数据库。\n\n你可以在 Supabase、Neon 等云数据库平台创建数据库，得到云数据库的远程连接地址，类似这种：\n\n你也可以使用自建的 PostgreSQL 数据库，得到数据库的连接地址，类似这种：\n\n建议本地开发使用自建的 PostgreSQL 数据库，线上版本使用 Supabase，Neon 等云数据库（兼容 PostgreSQL，无缝切换）。\n\n或者本地开发使用 SQLite 数据库，线上版本使用 Turso 等云数据库（兼容 SQLite，无缝切换）。\n\n常用数据库的创建和连接地址获取，可以参考：数据库 部分的文档。\n\n把上一步骤得到的数据库连接地址填入环境变量 DATABASE_URL。\n\n迁移数据表命令，在连接数据库时，读取的是 .env.development 文件中的 DATABASE_URL 变量。\n\n如果在执行迁移命令：pnpm db:migrate 时遇到 Timeout 超时问题，或者长时间无响应。你需要通过以下命令检查你的数据库能否被正常连接。\n\n如果通过命令直接连接数据库也无法连上，你需要检查你的数据库地址是否有误，或者是否存在网络问题（比如防火墙、代理等）。\n\n正常执行 pnpm db:migrate 迁移数据表成功后，你可以再次执行上述命令，验证数据表是否成功创建。\n\n你可以在本地开发时，把 DATABASE_URL 设置成本地数据库地址。部署上线前，把 DATABASE_URL 设置成线上数据库地址，执行完迁移数据表命令，再改回本地数据库地址。\n\n在 .env.development 文件中，通过注释来切换数据库地址。\n\nShipAny 使用了 Better Auth 实现用户登录鉴权功能。\n\n如果你的网站只使用 Landing Page 实现静态网站功能，可以不配置登录鉴权。\n\n如果你的网站需要用户登录、支付、管理后台等功能，必须配置登录鉴权。\n\n把上一步骤生成的鉴权密钥填入 .env.development 文件中的 AUTH_SECRET 变量。\n\n配置了 AUTH_SECRET 后，默认开启邮箱登录，用户访问你的网站时，会请求 /api/auth/get-session 接口检查登录状态。未配置 AUTH_SECRET 时，不会检查登录状态。\n\nShipAny 内置了后台管理系统和基于权限的访问控制（RBAC），你需要先完成上面的 配置数据库 和 配置登录鉴权 步骤，再按照下面的步骤配置管理后台访问。\n\n此步骤会往数据库写入默认的角色和权限列表，连接的是 .env.development 文件中 DATABASE_URL 对应的数据库。\n\n如果连接的是远程数据库，此步骤可能会遇到 Timeout 超时问题，重试即可。\n\n可以配置 DB_SINGLETON_ENABLED = \"true\"，启用数据库单例模式，复用连接，提升初始化速度。\n\n访问 http://your-domain/admin 进入后台管理系统，第一次会遇到登录拦截，重定向到 /sign-in 登录页面。你需要先通过邮箱注册一个管理员账户，比如 admin@xxx.com\n\n执行以下命令，给新注册的账户分配超级管理员权限\n\n再次访问 http://your-domain/admin，使用管理员账户登录，即可进入管理后台。\n\n在完成本地开发和自定义配置之后，你可以选择一种部署方案，将你的项目发布上线。\n\n项目发布上线后，通过 https://your-domain/admin 进入管理后台，按需配置所需的功能。",
  "headings": [
    {
      "level": "h1",
      "text": "快速开始",
      "id": ""
    },
    {
      "level": "h2",
      "text": "本地开发",
      "id": "本地开发"
    },
    {
      "level": "h3",
      "text": "初始化项目",
      "id": "初始化项目"
    },
    {
      "level": "h3",
      "text": "配置环境变量",
      "id": "配置环境变量"
    },
    {
      "level": "h3",
      "text": "配置数据库",
      "id": "配置数据库"
    },
    {
      "level": "h3",
      "text": "配置登录鉴权",
      "id": "配置登录鉴权"
    },
    {
      "level": "h3",
      "text": "配置管理后台访问",
      "id": "配置管理后台访问"
    },
    {
      "level": "h2",
      "text": "自定义配置",
      "id": "自定义配置"
    },
    {
      "level": "h2",
      "text": "发布上线",
      "id": "发布上线"
    },
    {
      "level": "h2",
      "text": "功能配置",
      "id": "功能配置"
    }
  ],
  "code_samples": [
    {
      "code": "git clone git@github.com:shipanyai/shipany-template-two my-shipany-project",
      "language": "python"
    },
    {
      "code": "git clone -b main git@github.com:shipanyai/shipany-template-two my-shipany-project",
      "language": "python"
    },
    {
      "code": "git clone -b cf git@github.com:shipanyai/shipany-template-two my-shipany-project",
      "language": "python"
    },
    {
      "code": "cd my-shipany-project",
      "language": "unknown"
    },
    {
      "code": "pnpm install",
      "language": "unknown"
    },
    {
      "code": "pnpm dev --port 8080",
      "language": "unknown"
    },
    {
      "code": "cp .env.example .env.development",
      "language": "unknown"
    },
    {
      "code": "# app\nNEXT_PUBLIC_APP_URL = \"http://localhost:3000\"\nNEXT_PUBLIC_APP_NAME = \"ShipAny Two\"\n\n# theme\nNEXT_PUBLIC_THEME = \"default\"\n\n# appearance\nNEXT_PUBLIC_APPEARANCE = \"system\"\n\n# database\nDATABASE_URL = \"\"\nDATABASE_PROVIDER = \"postgresql\"\nDB_SINGLETON_ENABLED = \"true\"\nDB_MAX_CONNECTIONS = \"1\"\n\n# auth secret\n# openssl rand -base64 32\nAUTH_SECRET = \"\"",
      "language": "markdown"
    },
    {
      "code": "openssl rand -base64 32",
      "language": "unknown"
    },
    {
      "code": "postgresql://postgres.xxx:xxxxxx@aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres",
      "language": "yaml"
    },
    {
      "code": "postgresql://user:password@127.0.0.1:5432/my_shipany_project",
      "language": "yaml"
    },
    {
      "code": "DATABASE_PROVIDER = \"postgresql\"\nDATABASE_URL = \"postgresql://user:password@127.0.0.1:5432/my_shipany_project\"\nDB_SINGLETON_ENABLED = \"true\"\nDB_MAX_CONNECTIONS = \"1\"",
      "language": "python"
    },
    {
      "code": "pnpm db:generate\npnpm db:migrate",
      "language": "unknown"
    },
    {
      "code": "psql \"postgresql://user:password@address:port/database\" # YOUR-DATABASE-URL",
      "language": "python"
    },
    {
      "code": "# local database\nDATABASE_URL = \"postgresql://user:password@127.0.0.1:5432/my_shipany_project\"\n\n# remote database\n# DATABASE_URL = \"postgresql://postgres.xxx:xxxxxx@aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres\"\n\nDATABASE_PROVIDER = \"postgresql\"\nDB_SINGLETON_ENABLED = \"true\"\nDB_MAX_CONNECTIONS = \"1\"",
      "language": "markdown"
    },
    {
      "code": "openssl rand -base64 32",
      "language": "unknown"
    },
    {
      "code": "AUTH_SECRET = \"your-secret-key\"",
      "language": "unknown"
    },
    {
      "code": "pnpm rbac:init",
      "language": "unknown"
    },
    {
      "code": "pnpm rbac:assign -- --email=admin@xxx.com --role=super_admin",
      "language": "python"
    }
  ],
  "patterns": [],
  "links": [
    "https://shipany.ai/zh/docs/quick-start",
    "https://shipany.ai/zh/docs/config",
    "https://shipany.ai/zh/docs/page-builder",
    "https://shipany.ai/zh/docs/vibe-coding",
    "https://shipany.ai/zh/docs/database",
    "https://shipany.ai/zh/docs/email",
    "https://shipany.ai/zh/docs/analytics",
    "https://shipany.ai/zh/docs/ads",
    "https://shipany.ai/zh/docs/customer-service",
    "https://shipany.ai/zh/docs/guide/get-shipany",
    "https://shipany.ai/zh/docs/guide/prerequisites",
    "https://shipany.ai/zh/docs/vibe-coding/skills",
    "https://shipany.ai/zh/docs/database/postgresql",
    "https://shipany.ai/zh/docs/database/supabase",
    "https://shipany.ai/zh/docs/database/neon",
    "https://shipany.ai/zh/docs/database/sqlite",
    "https://shipany.ai/zh/docs/database/turso",
    "https://shipany.ai/zh/docs/customize/appinfo",
    "https://shipany.ai/zh/docs/customize/page",
    "https://shipany.ai/zh/docs/customize/theme",
    "https://shipany.ai/zh/docs/customize/locale",
    "https://shipany.ai/zh/docs/deploy/vercel",
    "https://shipany.ai/zh/docs/deploy/cloudflare",
    "https://shipany.ai/zh/docs/deploy/dokploy",
    "https://shipany.ai/zh/docs/auth/google",
    "https://shipany.ai/zh/docs/payment/stripe",
    "https://shipany.ai/zh/docs/storage/cloudflare-r2",
    "https://shipany.ai/zh/docs/guide/tutorial"
  ]
}